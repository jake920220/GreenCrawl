var __mongo = require('mongoskin');
var __db;
var __db_collectionList = {};

(function () {

    var output = {};

    output.initDB = function (path) {
        __db = __mongo.db('mongodb://' + path, {native_parser: true});
    };

    output.getDB = function (collection) {
        if (__db_collectionList[collection]) {
            return __db[collection];
        }

        __db_collectionList[collection] = true;
        __db.bind(collection);
        return __db[collection];
    };

    if (typeof module !== 'undefined' && module.exports) {
        module.exports = output;
    }
})();